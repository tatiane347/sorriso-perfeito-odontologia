document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-list"),r=document.querySelectorAll(".nav-list a");e&&t&&(e.addEventListener("click",()=>{t.classList.toggle("active"),e.classList.toggle("active");let r="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!r)}),r&&r.forEach(r=>{r.addEventListener("click",()=>{t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"))})})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href");if("#"===t)window.scrollTo({top:0,behavior:"smooth"});else{let r=document.querySelector(t);r&&r.scrollIntoView({behavior:"smooth"})}})});let s=document.getElementById("contactForm"),a=document.getElementById("nome"),n=document.getElementById("nome-error"),o=document.getElementById("email"),i=document.getElementById("email-error"),l=document.getElementById("mensagem"),c=document.getElementById("mensagem-error"),d=document.getElementById("successMessage"),m=document.getElementById("resetFormBtn");function u(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function v(e,t){e.classList.add("error"),t.style.display="block"}function y(e,t){e.classList.remove("error"),t.style.display="none"}a&&n&&a.addEventListener("input",()=>{""===a.value.trim()?v(a,n):y(a,n)}),o&&i&&o.addEventListener("input",()=>{""===o.value.trim()?y(o,i):u(o.value)?y(o,i):v(o,i)}),l&&c&&l.addEventListener("input",()=>{""===l.value.trim()?v(l,c):y(l,c)}),s&&s.addEventListener("submit",async e=>{e.preventDefault();let t=!0;if(y(a,n),y(o,i),y(l,c),""===a.value.trim()&&(v(a,n),t=!1),u(o.value.trim())||(v(o,i),t=!1),""===l.value.trim()&&(v(l,c),t=!1),!t){a.classList.contains("error")?a.focus():o.classList.contains("error")?o.focus():l.classList.contains("error")&&l.focus();return}let r=new FormData(s);try{let m=await fetch("https://formspree.io/f/xrbleyan",{method:"POST",body:r,headers:{Accept:"application/json"}});if(m.ok)s.style.display="none",d&&(d.style.display="block"),s.reset();else{let f=await m.json();f.errors?alert("Erro ao enviar: "+f.errors.map(e=>e.message).join(", ")):alert("Ocorreu um erro ao enviar a mensagem. Por favor, tente novamente.")}}catch(g){console.error("Erro no envio do formul\xe1rio:",g),alert("N\xe3o foi poss\xedvel conectar ao servidor. Por favor, verifique sua conex\xe3o ou tente mais tarde.")}}),m&&s&&d&&m.addEventListener("click",()=>{d.style.display="none",s.style.display="block",s.reset(),a.focus()})}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-list"),r=document.querySelectorAll(".nav-list a");e&&t&&e.addEventListener("click",()=>{let r="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!r),t.classList.toggle("active")}),r&&r.forEach(r=>{r.addEventListener("click",()=>{t.classList.remove("active"),e.setAttribute("aria-expanded","false")})});let s=document.getElementById("contactForm"),a=document.getElementById("nome"),n=document.getElementById("nome-error"),o=document.getElementById("email"),i=document.getElementById("email-error"),l=document.getElementById("mensagem"),c=document.getElementById("mensagem-error"),d=document.getElementById("successMessage"),m=document.getElementById("resetFormBtn");function u(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function v(e,t){e.classList.add("error"),t.style.display="block"}function y(e,t){e.classList.remove("error"),t.style.display="none"}a&&n&&a.addEventListener("input",()=>{""===a.value.trim()?v(a,n):y(a,n)}),o&&i&&o.addEventListener("input",()=>{""===o.value.trim()?y(o,i):u(o.value)?y(o,i):v(o,i)}),l&&c&&l.addEventListener("input",()=>{""===l.value.trim()?v(l,c):y(l,c)}),s&&s.addEventListener("submit",async function(e){e.preventDefault();let t=!0;if(y(a,n),y(o,i),y(l,c),""===a.value.trim()&&(v(a,n),t=!1),u(o.value.trim())||(v(o,i),t=!1),""===l.value.trim()&&(v(l,c),t=!1),!t){a.classList.contains("error")?a.focus():o.classList.contains("error")?o.focus():l.classList.contains("error")&&l.focus();return}let r=new FormData(s);try{let m=await fetch("https://formspree.io/f/xrbleyan",{method:"POST",body:r,headers:{Accept:"application/json"}});if(m.ok)s.style.display="none",d.style.display="block",s.reset();else{let f=await m.json();f.errors?alert("Ocorreu um erro ao enviar a mensagem: "+f.errors.map(e=>e.message).join(", ")):alert("Ocorreu um erro ao enviar a mensagem. Por favor, tente novamente.")}}catch(g){console.error("Erro no envio do formul\xe1rio:",g),alert("N\xe3o foi poss\xedvel conectar ao servidor. Por favor, verifique sua conex\xe3o ou tente mais tarde.")}}),m&&s&&d&&m.addEventListener("click",()=>{d.style.display="none",s.style.display="block",s.reset(),a.focus()})});
